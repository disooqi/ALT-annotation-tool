{% extends 'annotation/base.html' %}
{% load split_string_on_spaces %}
{% block title %}
    {% if token %}
        {{ token }}
    {% else %}
        404
    {% endif %}
{% endblock title %}
{% block menu %}
    <div id="navbar" class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
            <li><a href="{% url 'annotation:index' 1 %}">Unigrams</a></li>
            <li><a href="{% url 'annotation:ambiguous' %}">Revision</a></li>
            <li><a href="#">Tagset</a></li>
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                   aria-expanded="false">Reports <span class="caret"></span></a>
                <ul class="dropdown-menu">
                    <li><a href="#">Action</a></li>
                    <li><a href="#">Another action</a></li>
                    <li><a href="#">Something else here</a></li>
                    <li role="separator" class="divider"></li>
                    <li class="dropdown-header">Nav header</li>
                    <li><a href="#">Separated link</a></li>
                    <li><a href="#">One more separated link</a></li>
                </ul>
            </li>
        </ul>
    </div><!--/.nav-collapse -->
{% endblock menu %}
{% block default-data %}
{% if form %}
    <br/>

        <form class="form-inline" method="post" action="{% url 'annotation:detail' token.id %}">
            {% csrf_token %}
            {{ form.non_field_errors }}
            <div class="form-group {% if form.default_coda.errors %}has-error{% endif %}">

                <label class="control-label" for="{{ form.coda.id_for_label }}">CODA:</label>
                {{ form.default_coda }}
                {% if form.default_coda.errors %}
                    <span id="helpBlock_coda" class="help-block">{{ form.default_coda.errors }}</span>
                {% endif %}

            </div>
            &nbsp;&nbsp;
            <div class="form-group {% if form.default_segmentation.errors %}has-error{% endif %}">
                <label class="control-label" for="{{ form.default_segmentation.id_for_label }}">Segmentation:</label>
                {{ form.default_segmentation }}
                {% if form.default_segmentation.errors %}
                    <span id="helpBlock_seg" class="help-block">{{ form.default_segmentation.errors }}</span>
                {% endif %}

            </div>
            &nbsp;&nbsp;
            <div class="form-group {% if form.default_pos.errors %}has-error{% endif %}">

                <label class="control-label" for="{{ form.default_pos.id_for_label }}">POS:</label>
                {{ form.default_pos }}
                {% if form.default_pos.errors %}
                    <span id="helpBlock_pos" class="help-block">{{ form.default_pos.errors }}</span>
                {% endif %}
            </div>
            &nbsp;&nbsp;
            <div class="checkbox">
                <label for="{{ form.ambiguous.id_for_label }}">
                    {{ form.ambiguous }} Ambiguous
                </label>
            </div>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button type="submit" class="btn btn-success" value="default">Save for all occurrences</button>
        </form>
        <br/>
    {% endif %}
{% endblock default-data %}
{% block content %}
    <div class="container">
        <br/><br/><br/>
        <div class="row">
            <div class="col-md-12 ">
                <div id="words" name="words" class="table-responsive">
                    <table class="table table-condensed table table-hover"
                           style="direction:rtl;font-size: x-large;">
                        {% if token and occurrences %}
                            <h2>{{ token }}</h2>

                            {% for tweet_text, position in occurrences %}
                                <tr>
                                    <td>
                                        {{ tweet_text|add_code_tag:position }}
                                    </td>

                                </tr>
                            {% endfor %}
                        {% else %}
                            <h3>There is no word with this ID</h3>
                        {% endif %}

                    </table>
                </div>
            </div>
        </div>
    </div>
{% endblock content %}
